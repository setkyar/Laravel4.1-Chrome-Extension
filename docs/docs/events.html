<!doctype html>

<html lang="en">


<!-- Mirrored from laravel.com/docs/events by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 14 Jan 2014 00:40:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <title>Laravel - The PHP Framework For Web Artisans.</title>

    <!-- meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9,chrome=1">
    <meta name="author" content="iKreativ">
    <meta name="description" content="Laravel - The PHP framework for web artisans.">
    <meta name="keywords" content="laravel, php, framework, web, artisans, taylor otwell">

    <!-- favicon -->
    <link rel="shortcut icon" href="../favicon5e1f.png?v=2">

    <!-- we're minifying and combining all our css -->
    <link href="../assets/css/style.css" rel="stylesheet">

    <!-- grab jquery from google cdn. fall back to local if offline -->
    <script src="../../ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../assets/js/jquery.js"><\/script>')</script>

    <!-- prettyprint -->
    <script src="../../google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>

    <!-- load up our js -->
    <script src="../assets/js/plugins.js"></script>
    <script src="../assets/js/application.js"></script>

    <!-- fonts -->
    <script src="../../use.edgefonts.net/source-sans-pro_n3%2ci3%2cn4%2ci4%2cn6%2ci6%2cn7%2ci7.js"></script>
    <script src="../../use.edgefonts.net/source-code-pro.js"></script>

    <!-- some conditionals for ie -->
    <!--[if IE]><link href="assets/css/ie.css" rel="stylesheet" type="text/css" /><![endif]-->

    <!-- HTML5 elements in less than IE9, yes please! -->
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <!-- If less than IE8 add some JS for the webfont icons -->
    <!--[if lt IE 8]><script src="assets/js/ie_font.js"></script><![endif]-->

    <!-- asynchronous google analytics. change UA-XXXXX-X to your site's ID -->
    <script>
        var _gaq=[['_setAccount','UA-23865777-1'],['_trackPageview']];
        (function(d,t){
    		var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        	g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        	s.parentNode.insertBefore(g,s)
    	}(document,'script'));
    </script>
</head>

<body id="index" class="page docs">

	<!-- wrapper -->
    <div id="wrapper">

        <!-- header -->
        <header id="header" role="header">
            <div class="boxed">
                <!-- tagline -->
                <div id="tagline">
                    <h1>Documentation.</h1>
                </div>
                <!-- /tagline -->

                <!-- version -->
                <div id="version">
                    <ul class="nolist">
                                                    <li><a href="http://laravel.com/docs/dev" title="Dev">Dev</a></li>
                            <li class="current"><a href="http://laravel.com/docs/4-1" title="4.1">4.1</a></li>
                            <li><a href="http://laravel.com/docs/4-0" title="4.0">4.0</a></li>
                                            </ul>
                </div>
                <!-- /version -->
            </div>
        </header>
        <!-- /header -->

        <!-- nav -->
    	<nav id="primary">
    	    <div class="boxed">
    	        <div id="logo-head">
    	           <a href="http://laravel.com/"><img src="../assets/img/logo-head.png" alt="Laravel" /></a>
    	        </div>
                <ul>
                    <li><a href="http://laravel.com/">Welcome</a></li>
                    <li class="current-item"><a href="../docs.html" title="Documentation">Documentation</a></li>
                    <li><a href="../api/4.1/index.html" title="Laravel Framework API">API</a></li>
                    <li><a href="https://github.com/laravel/laravel" title="Github">Github</a></li>
                    <li><a href="http://forums.laravel.io/" title="Laravel Forums">Forums</a></li>
                    <li><a href="http://twitter.com/laravelphp" title="Laravel on Twitter">Twitter</a></li>
                </ul>
            </div>
        </nav>
        <!-- /nav -->

        <!-- content -->
        <div id="content">

            <!-- docs -->
            <section id="documentation">
                <article class="boxed">

                    <!-- docs nav -->
                    <nav id="docs">
                        <!-- Pull table of contents -->
                        <ul>
<li>Preface

<ul>
<li><a href="introduction.html">Introduction</a></li>
<li><a href="quick.html">Quickstart</a></li>
<li><a href="releases.html">Release Notes</a></li>
<li><a href="upgrade.html">Upgrade Guide</a></li>
</ul></li>
<li>Getting Started

<ul>
<li><a href="installation.html">Installation</a></li>
<li><a href="configuration.html">Configuration</a></li>
<li><a href="lifecycle.html">Request Lifecycle</a></li>
<li><a href="routing.html">Routing</a></li>
<li><a href="requests.html">Requests &amp; Input</a></li>
<li><a href="responses.html">Views &amp; Responses</a></li>
<li><a href="controllers.html">Controllers</a></li>
<li><a href="errors.html">Errors &amp; Logging</a></li>
</ul></li>
<li>Learning More

<ul>
<li><a href="security.html">Authentication</a></li>
<li><a href="cache.html">Cache</a></li>
<li><a href="extending.html">Core Extension</a></li>
<li><a href="events.html">Events</a></li>
<li><a href="facades.html">Facades</a></li>
<li><a href="html.html">Forms &amp; HTML</a></li>
<li><a href="helpers.html">Helpers</a></li>
<li><a href="ioc.html">IoC Container</a></li>
<li><a href="localization.html">Localization</a></li>
<li><a href="mail.html">Mail</a></li>
<li><a href="packages.html">Package Development</a></li>
<li><a href="pagination.html">Pagination</a></li>
<li><a href="queues.html">Queues</a></li>
<li><a href="security.html">Security</a></li>
<li><a href="session.html">Session</a></li>
<li><a href="ssh.html">SSH</a></li>
<li><a href="templates.html">Templates</a></li>
<li><a href="testing.html">Unit Testing</a></li>
<li><a href="validation.html">Validation</a></li>
</ul></li>
<li>Database

<ul>
<li><a href="database.html">Basic Usage</a></li>
<li><a href="queries.html">Query Builder</a></li>
<li><a href="eloquent.html">Eloquent ORM</a></li>
<li><a href="schema.html">Schema Builder</a></li>
<li><a href="migrations.html">Migrations &amp; Seeding</a></li>
<li><a href="redis.html">Redis</a></li>
</ul></li>
<li>Artisan CLI

<ul>
<li><a href="artisan.html">Overview</a></li>
<li><a href="commands.html">Development</a></li>
</ul></li>
</ul>
                    </nav>
                    <!-- /docs nav -->

                    <!-- docs content -->
                    <div id="docs-content">
                        <h1>Events</h1>

<ul>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#wildcard-listeners">Wildcard Listeners</a></li>
<li><a href="#using-classes-as-listeners">Using Classes As Listeners</a></li>
<li><a href="#queued-events">Queued Events</a></li>
<li><a href="#event-subscribers">Event Subscribers</a></li>
</ul>

<p><a name="basic-usage"></a></p>

<h2>Basic Usage</h2>

<p>The Laravel <code>Event</code> class provides a simple observer implementation, allowing you to subscribe and listen for events in your application.</p>

<h4>Subscribing To An Event</h4>

<pre><code>Event::listen('user.login', function($user)
{
    $user-&gt;last_login = new DateTime;

    $user-&gt;save();
});
</code></pre>

<h4>Firing An Event</h4>

<pre><code>$event = Event::fire('user.login', array($user));
</code></pre>

<p>You may also specify a priority when subscribing to events. Listeners with higher priority will be run first, while listeners that have the same priority will be run in order of subscription.</p>

<h4>Subscribing To Events With Priority</h4>

<pre><code>Event::listen('user.login', 'LoginHandler', 10);

Event::listen('user.login', 'OtherHandler', 5);
</code></pre>

<p>Sometimes, you may wish to stop the propagation of an event to other listeners. You may do so using by returning <code>false</code> from your listener:</p>

<h4>Stopping The Propagation Of An Event</h4>

<pre><code>Event::listen('user.login', function($event)
{
    // Handle the event...

    return false;
});
</code></pre>

<h3>Where To Register Events</h3>

<p>So, you know how to register events, but you may be wondering <em>where</em> to register them. Don't worry, this is a common question. Unfortunately, it's a hard question to answer because you can register an event almost anywhere! But, here are some tips. Again, like most other bootstrapping code, you may register events in one of your <code>start</code> files such as <code>app/start/global.php</code>.</p>

<p>If your <code>start</code> files are getting too crowded, you could create a separate <code>app/events.php</code> file that is included from a <code>start</code> file. This is a simple solution that keeps your event registration cleanly separated from the rest of your bootstrapping. If you prefer a class based approach, you may register your events in a <a href="ioc.html#service-providers">service provider</a>. Since none of these approaches is inherently "correct", choose an approach you feel comfortable with based on the size of your application.</p>

<p><a name="wildcard-listeners"></a></p>

<h2>Wildcard Listeners</h2>

<p>When registering an event listener, you may use asterisks to specify wildcard listeners:</p>

<h4>Registering Wildcard Event Listeners</h4>

<pre><code>Event::listen('foo.*', function($param)
{
    // Handle the event...
});
</code></pre>

<p>This listener will handle all events that begin with <code>foo.</code>.</p>

<p>You may use the <code>Event::firing</code> method to determine exactly which event was fired:</p>

<pre><code>Event::listen('foo.*', function($param)
{
    if (Event::firing() == 'foo.bar')
    {
        //
    }
});
</code></pre>

<p><a name="using-classes-as-listeners"></a></p>

<h2>Using Classes As Listeners</h2>

<p>In some cases, you may wish to use a class to handle an event rather than a Closure. Class event listeners will be resolved out of the <a href="ioc.html">Laravel IoC container</a>, providing you the full power of dependency injection on your listeners.</p>

<h4>Registering A Class Listener</h4>

<pre><code>Event::listen('user.login', 'LoginHandler');
</code></pre>

<p>By default, the <code>handle</code> method on the <code>LoginHandler</code> class will be called:</p>

<h4>Defining An Event Listener Class</h4>

<pre><code>class LoginHandler {

    public function handle($data)
    {
        //
    }

}
</code></pre>

<p>If you do not wish to use the default <code>handle</code> method, you may specify the method that should be subscribed:</p>

<h4>Specifying Which Method To Subscribe</h4>

<pre><code>Event::listen('user.login', 'LoginHandler@onLogin');
</code></pre>

<p><a name="queued-events"></a></p>

<h2>Queued Events</h2>

<p>Using the <code>queue</code> and <code>flush</code> methods, you may "queue" an event for firing, but not fire it immediately:</p>

<h4>Registering A Queued Event</h4>

<pre><code>Event::queue('foo', array($user));
</code></pre>

<h4>Registering An Event Flusher</h4>

<pre><code>Event::flusher('foo', function($user)
{
    //
});
</code></pre>

<p>Finally, you may run the "flusher" and flush all queued events using the <code>flush</code> method:</p>

<pre><code>Event::flush('foo');
</code></pre>

<p><a name="event-subscribers"></a></p>

<h2>Event Subscribers</h2>

<p>Event subscribers are classes that may subscribe to multiple events from within the class itself. Subscribers should define a <code>subscribe</code> method, which will be passed an event dispatcher instance:</p>

<h4>Defining An Event Subscriber</h4>

<pre><code>class UserEventHandler {

    /**
     * Handle user login events.
     */
    public function onUserLogin($event)
    {
        //
    }

    /**
     * Handle user logout events.
     */
    public function onUserLogout($event)
    {
        //
    }

    /**
     * Register the listeners for the subscriber.
     *
     * @param  Illuminate\Events\Dispatcher  $events
     * @return array
     */
    public function subscribe($events)
    {
        $events-&gt;listen('user.login', 'UserEventHandler@onUserLogin');

        $events-&gt;listen('user.logout', 'UserEventHandler@onUserLogout');
    }

}
</code></pre>

<p>Once the subscriber has been defined, it may be registered with the <code>Event</code> class.</p>

<h4>Registering An Event Subscriber</h4>

<pre><code>$subscriber = new UserEventHandler;

Event::subscribe($subscriber);
</code></pre>
                    </div>
                    <!-- /docs content -->

                </article>
    	    </section>
    	    <!-- /docs -->

        </div>
    	<!-- /content -->

        <!-- footer -->
        <footer id="foot" class="textcenter">
            <div class="boxed">

                <!-- nav -->
                <nav id="secondary">
                    <div id="logo-foot">
        	           <a href="http://laravel.com/"><img src="../assets/img/logo-foot.png" alt="Laravel" /></a>
        	        </div>
                    <ul>
                        <li><a href="http://laravel.com/">Welcome</a></li>
                        <li class="current-item"><a href="../docs.html" title="Documentation">Documentation</a></li>
                        <li><a href="../docs.html" title="Laravel Framework API">API</a></li>
                        <li><a href="https://github.com/laravel/laravel" title="Github">Github</a></li>
                        <li><a href="http://forums.laravel.io/" title="Laravel Forums">Forums</a></li>
                        <li><a href="http://twitter.com/laravelphp" title="Laravel on Twitter">Twitter</a></li>
                    </ul>
                </nav>
                <!-- /nav -->

            </div>
        </footer>
        <!-- /footer -->

        <!-- to the top -->
        <div id="top">
            <a href="#index" title="Back to the top">
                <i class="icon-chevron-up"></i>
            </a>
        </div>
        <!-- /to the top -->

    </div>
    <!-- /wrapper -->

    <!-- copyright -->
    <section id="copyright" class="textcenter">
        <div class="boxed">
            <div class="animated slideInLeft">Laravel is a trademark of Taylor Otwell. Copyright &copy; <a href="http://twitter.com/taylorotwell" title="Taylor Otwell" target="_blank">Taylor Otwell</a>. Website built with &hearts; <a href="http://ikreativ.com/" title="iKreativ" target="_blank">iKreativ</a>.</div>
        </div>
    </section>
    <!-- /copyright -->

</body>

<!-- Mirrored from laravel.com/docs/events by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 14 Jan 2014 00:40:48 GMT -->
</html>
